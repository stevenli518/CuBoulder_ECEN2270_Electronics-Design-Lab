Version 4
SHEET 1 892 688
WIRE 432 224 304 224
WIRE -416 304 -480 304
WIRE -368 304 -368 288
WIRE -480 352 -480 304
WIRE -480 352 -576 352
WIRE -432 352 -480 352
WIRE -128 352 -352 352
WIRE -32 352 -128 352
WIRE 304 352 304 224
WIRE 304 352 192 352
WIRE -128 368 -128 352
WIRE -576 384 -576 352
WIRE -48 432 -128 432
WIRE -48 448 -48 432
WIRE -48 448 -96 448
WIRE -32 448 -48 448
WIRE 272 448 192 448
WIRE -96 496 -96 448
WIRE -576 528 -576 464
WIRE 272 576 272 448
WIRE 288 576 272 576
FLAG -96 496 0
FLAG -576 528 0
FLAG 288 576 Pulse
IOPIN 288 576 Out
FLAG -128 352 Vdc
FLAG 304 352 omega
FLAG -96 448 Vi
FLAG -368 288 0
FLAG 432 224 omega
IOPIN 432 224 Out
SYMBOL DC_motor_model3 64 400 R0
SYMATTR InstName X1
SYMBOL voltage -576 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR InstName V1
SYMATTR Value PWL(0 0 10m 7 700m 7 710m 0)
SYMBOL cap -144 368 R0
SYMATTR InstName C1
SYMATTR Value 0.2n
SYMBOL sw -336 352 R90
SYMATTR InstName S1
SYMATTR Value mySW
TEXT 512 320 Left 2 !.tran 4
TEXT -376 560 Left 2 !.param RM 2.68\n.param k 0.66\n.param J 0.022\n.param B 0.001\n.param Tint 0.09
TEXT -464 200 Left 2 !.model mySW SW(Ron=0.1  Roff=1Meg   Vt=0.5)
