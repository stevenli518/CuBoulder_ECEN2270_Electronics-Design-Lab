Version 4
SHEET 1 2092 680
WIRE -96 -32 -240 -32
WIRE 0 -32 -96 -32
WIRE 416 -32 0 -32
WIRE 880 -32 416 -32
WIRE 1168 -32 880 -32
WIRE 416 48 416 -32
WIRE -240 64 -240 -32
WIRE 96 64 80 64
WIRE 240 64 176 64
WIRE 880 64 880 -32
WIRE -96 80 -96 -32
WIRE 0 80 0 -32
WIRE 240 80 240 64
WIRE 256 80 240 80
WIRE 640 80 608 80
WIRE 1216 80 1184 80
WIRE 1328 80 1216 80
WIRE 1680 80 1552 80
WIRE 640 96 640 80
WIRE 688 96 640 96
WIRE 1184 96 1184 80
WIRE 1184 96 1120 96
WIRE 1216 96 1216 80
WIRE 240 128 128 128
WIRE 240 144 240 128
WIRE 256 144 240 144
WIRE 624 144 608 144
WIRE 624 176 624 144
WIRE 688 176 624 176
WIRE 1216 176 1216 160
WIRE 1216 176 1120 176
WIRE 1328 176 1216 176
WIRE 1680 176 1552 176
WIRE -240 192 -240 144
WIRE -96 192 -96 144
WIRE 0 192 0 144
WIRE 128 208 128 128
WIRE 880 272 880 208
WIRE 416 288 416 208
WIRE 784 368 -224 368
WIRE 1168 384 1168 -32
WIRE 1168 384 544 384
WIRE 1328 384 1168 384
WIRE -224 480 -224 368
WIRE 544 480 544 384
WIRE 784 512 784 368
WIRE 784 512 704 512
WIRE 1328 512 1328 384
WIRE 1328 512 1264 512
WIRE 80 576 80 64
WIRE 224 576 80 576
WIRE 384 576 224 576
WIRE 864 576 704 576
WIRE 960 576 864 576
WIRE 1360 576 1264 576
WIRE 1680 576 1680 176
WIRE 1680 576 1360 576
WIRE -224 624 -224 560
FLAG 1216 80 DC+
FLAG 1216 176 DC-
FLAG 1680 80 omega
IOPIN 1680 80 Out
FLAG -224 624 0
FLAG -240 192 0
FLAG -224 368 Vref
FLAG -96 192 0
FLAG 0 192 0
FLAG 128 208 0
FLAG 416 288 0
FLAG 880 272 0
FLAG 1360 576 enc
FLAG 224 576 Vo
FLAG 864 576 Vs
SYMBOL voltage -240 48 R0
SYMATTR InstName V1
SYMATTR Value 8
SYMBOL voltage -224 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(3 5 0 1p 1p 3 6)
SYMBOL DC_motor_model3 1424 128 R0
SYMATTR InstName X1
SYMBOL DC_Motor_Driver 880 128 R0
SYMATTR InstName X2
SYMBOL I-Compensator_Circuit 544 528 M0
SYMATTR InstName X3
SYMBOL Speed_Sensor 1120 528 M0
SYMATTR InstName X4
SYMBOL cap 1200 96 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL polcap -112 80 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL cap -16 80 R0
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL Motor_Direction 416 112 R0
WINDOW 0 0 -72 Bottom 2
SYMATTR InstName X5
SYMBOL res 80 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 330
TEXT 1920 64 Left 2 !.tran 12 uic
TEXT 1896 208 Left 2 !.param RM 2.68\n.param k 0.66\n.param J 0.022\n.param B 0.001\n.param Tint 0.09
